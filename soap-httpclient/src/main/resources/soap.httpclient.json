{

  "id": "soap-http-client",
  "name": "Soap Http Client",

  "configuration": {

  "request": [
    { "key": "endpointUrl", "name": "Endpoint Url", "type": "Expression", "required": true },

    { "key": "message", "name": "Message", "type": "Expression", "typeParameters": [
      { "key": "expressionLanguage", "name": "Expression Language", "type": "String", "required": "true", "default": "Juel" }
    ]
    },

    { "key": "headers", "name": "Http Headers", "type": "Map", "minEntries": 0, "defaultEntries": [
      {"name": "SOAPAction", "value": ""}
    ]
    },

  ],

  "response": [
    { "key": "variableName", "name": "Variable Name", "type": "String", "required": false }
    { "key": "variableScope", "name": "Variable Scope", "type": "VariableScope", "required": false }
  ]

  }
}

<serviceTask ... >

  <extensioncElements>
      
      <inputOutput>
          <inputParameter name="endpointUrl">${ registry.resolve("myService") }</inputParameter>
          <inputParameter name="payload">
            <script language="freemarker">
              <![CDATA[
                
              ]]>
            </script>
          </inputParameter>
          <inputParameter name="headers">
            <map>
              <entry key="SOAPAction">
                <script language="javascript">
                  <![CDATA[
                    var foo = bar;
                  ]]>
                </script>
              </entry>
            </map>
          </inputParameter>
          <inputParameter>
            <list>
                <value>Foo</value>
                <expression language="javascript">
                  <![CDATA[
                    return 
                  ]]>
                </expression>
                <value>Bar</value>
            </list>
          </inputParameter>
          <outputParameter name="response" />
        </inputs>
      
      
      <connector>
        <connectorId>soap-http-client</connectorId>
        
      </connector>

  </extensionElements>

</serviceTask>